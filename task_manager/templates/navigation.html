{% load bootstrap4 %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}


<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">

  <a class="navbar-brand" href="/">{% translate "TaskManagerBrand" %}</a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarToggleExternalContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item ">
        <a class="nav-link" href="{% url 'users' %}">{% translate "NavbarUsersLink" %}</a>
      </li>
      {% if request.user.is_authenticated %}
      <li class="nav-item ">
        <a class="nav-link" href="{% url 'statuses' %}">{% translate "NavbarStatusesLink" %}</a>
      </li>
      {% endif %}
    </ul>
    {% if request.user.is_authenticated %}
    <ul class="navbar-nav">
      <form action="{% url 'users_logout' %}" method="POST">
        {% csrf_token %}
        <input class="btn nav-link" type="submit" value="{% translate "NavbarLogOutLink" %}">
      </form>
      <!-- <li class="nav-item">
        <a class="nav-link" href="{% url 'users_logout' %}">{% translate "NavbarLogOutLink" %}</a>
      </li> -->
    </ul>
    {% else %}
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="{% url 'users_login' %}">{% translate "NavbarLogInLink" %}</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'users_create' %}">{% translate "NavbarSignUpLink" %}</a>
      </li>
    </ul>
    {% endif %}
  </div>

</nav>